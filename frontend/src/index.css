@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom component styles */
@layer components {

    /* Buttons */
    .btn-primary {
        @apply bg-gradient-to-r from-primary-600 to-primary-500 text-white px-6 py-2.5 rounded-xl font-medium shadow-lg shadow-primary-500/30 hover:shadow-primary-500/40 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none transition-all duration-200;
    }

    .btn-secondary {
        @apply bg-white text-gray-700 border border-gray-200 px-6 py-2.5 rounded-xl font-medium hover:bg-gray-50 hover:border-gray-300 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200;
    }

    .btn-danger {
        @apply bg-gradient-to-r from-red-600 to-red-500 text-white px-6 py-2.5 rounded-xl font-medium shadow-lg shadow-red-500/30 hover:shadow-red-500/40 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none transition-all duration-200;
    }

    /* Form inputs */
    .input-field {
        @apply w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-primary-100 focus:border-primary-500 transition-all duration-200 outline-none;
    }

    /* Cards & Panels */
    .card {
        @apply bg-white rounded-2xl shadow-sm border border-gray-100 p-6 transition-shadow duration-300 hover:shadow-md;
    }

    .glass-panel {
        @apply bg-white/80 backdrop-blur-md border border-white/20 shadow-xl;
    }

    /* Tables */
    .table-container {
        @apply overflow-x-auto rounded-2xl border border-gray-100;
    }

    .table {
        @apply min-w-full divide-y divide-gray-100;
    }

    .table thead {
        @apply bg-gray-50/50;
    }

    .table th {
        @apply px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider;
    }

    .table td {
        @apply px-6 py-4 whitespace-nowrap text-sm text-gray-700 transition-colors;
    }

    .table tbody tr {
        @apply hover:bg-gray-50/50 transition-colors;
    }

    /* Badges */
    .badge-easy {
        @apply inline-flex items-center px-2.5 py-0.5 text-xs font-medium rounded-full bg-green-50 text-green-700 border border-green-100;
    }

    .badge-medium {
        @apply inline-flex items-center px-2.5 py-0.5 text-xs font-medium rounded-full bg-yellow-50 text-yellow-700 border border-yellow-100;
    }

    .badge-hard {
        @apply inline-flex items-center px-2.5 py-0.5 text-xs font-medium rounded-full bg-red-50 text-red-700 border border-red-100;
    }

    /* Verdict badges */
    .verdict-accepted {
        @apply inline-flex items-center px-2.5 py-0.5 text-xs font-medium rounded-full bg-green-50 text-green-700 border border-green-100;
    }

    .verdict-wrong-answer {
        @apply inline-flex items-center px-2.5 py-0.5 text-xs font-medium rounded-full bg-red-50 text-red-700 border border-red-100;
    }

    .verdict-tle {
        @apply inline-flex items-center px-2.5 py-0.5 text-xs font-medium rounded-full bg-orange-50 text-orange-700 border border-orange-100;
    }

    /* Spinner */
    .spinner {
        @apply inline-block w-6 h-6 border-[3px] border-gray-200 border-t-primary-600 rounded-full animate-spin;
    }

    /* Modal */
    .modal-backdrop {
        @apply fixed inset-0 bg-gray-900/40 backdrop-blur-sm flex justify-center items-center z-50 transition-all duration-300;
    }

    .modal-content {
        @apply bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full mx-4 border border-gray-100 animate-fade-in;
    }

    /* Heatmap */
    .heatmap-cell {
        @apply rounded-[2px] cursor-pointer hover:ring-2 hover:ring-primary-400 transition-all duration-150;
    }

    /* Typography */
    .gradient-text {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-600 to-indigo-600;
    }
}

/* Fullscreen mode for contests */
.fullscreen-mode {
    @apply fixed inset-0 z-50 bg-white;
}

/* Secure mode */
body.secure-mode {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
}

/* Monaco Editor container */
.editor-container {
    @apply h-full w-full rounded-b-xl overflow-hidden;
}

/* Global Animations */
@keyframes shake {

    0%,
    100% {
        transform: translateX(0);
    }

    10%,
    30%,
    50%,
    70%,
    90% {
        transform: translateX(-4px);
    }

    20%,
    40%,
    60%,
    80% {
        transform: translateX(4px);
    }
}

.animate-shake {
    animation: shake 0.5s cubic-bezier(.36, .07, .19, .97) both;
}

@keyframes fade-in {
    from {
        opacity: 0;
        transform: scale(0.98) translateY(10px);
    }

    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.animate-fade-in {
    animation: fade-in 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full hover:bg-gray-400 transition-colors;
}

/* Scrollbar hide utility (for horizontal tab bars) */
.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
    display: none;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* ── Results panel slide-up ── */
@keyframes slide-up-results {
    from {
        opacity: 0;
        transform: translateY(18px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ── Success overlay particles ── */
@keyframes particle-fly {
    0% {
        opacity: 1;
        transform: translate(0, 0) scale(1) rotate(0deg);
    }

    100% {
        opacity: 0;
        transform: translate(var(--tx, 40px), var(--ty, -80px)) scale(0.4) rotate(var(--tr, 180deg));
    }
}

/* ── Sparkle stars pop ── */
@keyframes sparkle-pop {
    0% {
        opacity: 0;
        transform: scale(0) rotate(-30deg);
    }

    60% {
        opacity: 1;
        transform: scale(1.3) rotate(10deg);
    }

    100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
    }
}

/* ── Coin badge bounce-in ── */
@keyframes coin-bounce {
    0% {
        opacity: 0;
        transform: scale(0.5) translateY(20px);
    }

    70% {
        transform: scale(1.08) translateY(-4px);
    }

    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* ── Trophy halo pulse ── */
@keyframes pulse-ring {

    0%,
    100% {
        box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.3);
    }

    50% {
        box-shadow: 0 0 0 12px rgba(37, 99, 235, 0);
    }
}

/* ── Big coin gentle float ── */
@keyframes coin-float {
    from {
        transform: translateY(0px) rotate(-2deg);
    }

    to {
        transform: translateY(-18px) rotate(2deg);
    }
}

/* ── Coin pop burst particles ── */
@keyframes coin-particle {
    0% {
        opacity: 1;
        transform: translate(0, 0) scale(1);
    }

    100% {
        opacity: 0;
        transform: translate(var(--tx, 30px), var(--ty, -80px)) scale(0.3);
    }
}